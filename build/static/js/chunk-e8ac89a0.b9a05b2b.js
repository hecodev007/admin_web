(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8ac89a0"],{"08f1":function(e,t,n){},"15f7":function(e,t,n){"use strict";n("08f1")},"37f9":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-index"},[t("MenuList",{attrs:{list:e.menu_list},model:{value:e.close,callback:function(t){e.close=t},expression:"close"}}),t("div",{staticClass:"page-index-right",class:{"page-index-right-close":e.close}},[t("router-view")],1)],1)},s=[],i=(n("55dd"),n("ac6a"),n("28a5"),n("c276")),o={data:function(){return{close:"true"===localStorage.menuStatus||!1,userInfo:{},allRoles:[],menu_list:[]}},created:function(){var e=this;this.$axios.get("/api/v1/user/login_user_info").then((function(t){if(1e4===t.code){e.$store.commit("setUserName",t.data),Object(i["i"])("userInfo",JSON.stringify(t.data)),e.userInfo=t.data;var n=t.data,r=n.menus.split(",");1==n.isRoot?(console.log("超级管理员"),e.renderMenuListHandle()):(console.log("一般用户"),e.renderMenuListHandle(r))}}))},methods:{renderMenuListHandle:function(e){var t=this,n=!0;e&&e.length>0&&(n=!1),this.$axios.get("/api/v1/router/routers").then((function(r){if(1e4===r.code){var s=r.data,i=[];s.forEach((function(t,r){if("root"===t.parent_id&&(n||!n&&e.indexOf(t.id)>-1)){var s={open:!1,id:t.id,name:t.title,type:t.ico,sort:t.sort,showLevel:t.showLevel};"2"==t.showLevel?s.children=[]:s.link="/"+t.url,i.push(s)}})),i=t.setArray(i),i.forEach((function(r,i){if("2"==r.showLevel){var o=[],a={};s.forEach((function(t,s){a={name:t.title,sort:t.sort,parent_id:t.parent_id,id:t.id,url:t.url,link:"/"+t.parent_id+"/"+t.url},t.parent_id===r.id&&(n||e.indexOf(a.id)>-1)&&o.push(a)})),o=t.setArray(o),r.children=o}})),t.menu_list=i}else t.$Message.error("routers:"+r.msg)}))},setArray:function(e){return e.sort(this.compare("sort")),e},compare:function(e){return function(t,n){return n[e]-t[e]}}},watch:{close:function(){localStorage.menuStatus=this.close}},computed:{user_info:function(){return this.$store.state.user_info}}},a=o,u=(n("15f7"),n("2877")),c=Object(u["a"])(a,r,s,!1,null,null,null);t["default"]=c.exports}}]);